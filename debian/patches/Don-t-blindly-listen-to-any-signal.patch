From: Josselin Mouette <joss@debian.org>
Date: Sat, 16 Apr 2011 17:22:09 +0200
Subject: Don't blindly listen to any signal
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

that goes through the session bus. Gnome-session will know when to kill
the applet.

Closes: #486674
Thanks:  Michal Čihař
---
 applet.py |   11 -----------
 1 files changed, 0 insertions(+), 11 deletions(-)

diff --git a/applet.py b/applet.py
index 048197c..e6cdf31 100644
--- a/applet.py
+++ b/applet.py
@@ -410,17 +410,6 @@ if __name__ == '__main__':
             sys.exit (1)
 
     try:
-        session_bus = dbus.SessionBus()
-        # Stop running when the session ends.
-        session_bus.add_signal_receiver (monitor_session)
-    except:
-        try:
-            print >> sys.stderr, ("%s: failed to connect to "
-                                  "session D-Bus" % PROGRAM_NAME)
-        finally:
-            sys.exit (1)
-
-    try:
         NewPrinterNotification(system_bus, session_bus)
     except:
         try:
-- 
